var SjPano=function(){var n,e=$(".sj_panorama .pano_wrap"),i=e.children(),t=i.children(),a=null,o=t.width()*t.length,r=($(window).width(),0),s=e.parent().find(".controls");_init=function(){e.css({width:2*o+"px"}),i.css({width:o+"px"}),i.clone().appendTo(e),a=e.children(),_render(),_event()},_event=function(){s.find("a.play_on").on("click",function(n){$(this).hasClass("active")?(_clear(),$(this).removeClass("active")):($(this).addClass("active"),_render())})},_render=function(){o<=r&&(a.css({transform:"translateX(0px)"}),r=0),r+=1,a.css({transform:"translateX("+-r+"px)"}),n=window.requestAnimationFrame(_render)},_clear=function(){window.cancelAnimationFrame(n)},window.requestAnimFrame=function(n){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3)}},_init()};$(function(){SjPano()});